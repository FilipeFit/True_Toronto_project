<%if can? :update, @post%>
  <p id="notice"><%= notice %></p>

  <h1>Lista de produtos</h1>

  <table class="table">
    <thead>
      <tr>
        <th>Nome</th>
        <th>Descrição</th>
        <th>Preço</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @produtos.each do |produto| %>
        <tr>
          <td><%= produto.nome%></td>
          <td><%= truncate(produto.descricao, lenght: 100) %></td>  
          <td><%= produto.price %></td>
          <td><%= button_to "Mostrar", produto, :method => :get, class: "btn btn-primary btn-xs" %></td>
          <td><%= button_to "Editar", edit_produto_path(produto), :method => :get, class: "btn btn-warning btn-xs"%></td>
          <td><%= button_to "Excluir", produto, method: :delete, class: "btn btn-danger btn-xs", data: { confirm: 'Você tem certeza?' } %></td>            
        </tr>
      <% end %>
    </tbody>
  </table>
  <td><%= button_to "Novo Produto", new_produto_path, :method => :get, class: "btn btn-primary btn-xs" %></td>
<%end%>
